{"version":3,"sources":["componentes/Titulo.js","helpers/ObtainSlug2.js","componentes/Referencias.js","componentes/Input.js","helpers/ObtainSlug.js","hooks/useObtainInfo.js","componentes/Columna.js","componentes/App.js","index.js"],"names":["Titulo","props","titulo","useState","titu","setTitu","useEffect","i","setTimeout","anterior","length","ObtainSlug2","juego","a","fetch","info","json","data","results","map","elemento","name","referencias","Referencias","categoria","setInput","isMounted","useRef","setData","handleClick","event","target","innerText","current","then","catch","errores","console","warn","className","onClick","Input","setLista","input","onSubmit","preventDefault","autoComplete","onChange","value","type","placeholder","obtainInfo","slug","info2","data2","genres","e","developers","publisher","publishers","platforms1","platforms","platforms2","platform","description_raw","background_image","useObtainInfo","loading","setInfo","log","description","background","platfforms","Columna","role","src","App","lista","obj","root","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.e3144c4d.chunk.js","sourcesContent":["import React,{useState, useEffect} from 'react'\r\n\r\n\r\nconst Titulo = props => {\r\n    const titulo = \"Buscador de Video Juegos\"\r\n    const [titu, setTitu] = useState('')\r\n\r\n    useEffect(() => {\r\n        for (let i = 0; i < titulo.length; i++) {\r\n          setTimeout(() => {\r\n            setTitu(anterior => (anterior+titulo[i])) \r\n          }, 20*i);\r\n        }\r\n    }, [])\r\n    return (\r\n        <>\r\n          <h1>{titu}</h1>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Titulo\r\n","\r\n\r\nconst ObtainSlug2 = async (juego) => {\r\n    const info = await fetch(`https://api.rawg.io/api/games?page_size=5&search=${juego}`);\r\n    const data = await info.json();\r\n    const referencias = await data.results.map(elemento => elemento.name);\r\n    return referencias;\r\n}\r\n\r\nexport default ObtainSlug2\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport ObtainSlug2 from '../helpers/ObtainSlug2'\r\n\r\nconst Referencias = ({categoria, setInput}) => {\r\n    const isMounted = useRef(true)\r\n    const [data, setData] = useState([])\r\n    const handleClick = (event) =>{\r\n        setInput(event.target.innerText)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return () =>{\r\n            isMounted.current = false\r\n        }\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        if(categoria.length %2 == 0){ //limitar la cantidad de peticiones, llegan desordenada sin control.\r\n            if(isMounted.current === true){\r\n                    const referencia = ObtainSlug2(categoria);\r\n                    referencia.then((data)=>{\r\n                        setData(data)\r\n                    })\r\n                    .catch(errores => console.warn)\r\n            }\r\n        }\r\n    },[categoria])\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column \">\r\n            <h2 className=\"mt-2\">Busquedas sugeridas.</h2>\r\n            {data.map( elemento => <a className=\"btn text-white  mx-auto\" key = {elemento } onClick={handleClick}>{elemento}</a>)}\r\n          \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Referencias\r\n","import React, { useState } from 'react'\r\nimport Referencias from './Referencias'\r\n\r\nconst Input = ({ setLista }) => {\r\n    const [input, setInput] = useState('');\r\n    const handleInput = (event) => {\r\n        setInput(event.target.value)\r\n    }\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (input.length > 2) {\r\n            setLista(anterior => [input, ...anterior])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form-group mt-3\" onSubmit={handleSubmit}>\r\n                <i className=\"fas fa-search d-inline mx-2\"></i>\r\n                <input className=\"form-control mx-auto w-75 d-inline\" autoComplete=\"off\" onChange={handleInput} type='text' name=\"insJuego\" value={input} placeholder='Tu Juego Favorito' />\r\n            </form>\r\n            { input.length >5 && <Referencias categoria={input} setInput={setInput}/>}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Input\r\n","\r\nconst obtainInfo = async (juego) => {\r\n    const info = await fetch(`https://api.rawg.io/api/games?page_size=5&search=${juego}`)\r\n    const data = await info.json();\r\n    const {slug, name} = await data.results[0];\r\n\r\n    const info2 = await fetch(`https://api.rawg.io/api/games/${slug}`)\r\n    const data2 = await info2.json();\r\n    const genres = data2.genres.map( e => e.name)\r\n    const developers = data2.developers[0].name\r\n    const publisher = data2.publishers[0].name\r\n    const platforms1 = data2.platforms.map(e=> e) // array dentro de array\r\n    const platforms2 = platforms1.map(e => e.platform.name) //continuaciÃ³n del array\r\n    const {description_raw, background_image} = await data2;\r\n    return {name, description_raw, background_image, developers, publisher, platforms2, genres}\r\n}\r\n\r\n\r\nexport default obtainInfo;","import { useState, useEffect, useRef } from 'react'\r\nimport obtainInfo from '../helpers/ObtainSlug'\r\n\r\nconst useObtainInfo = (titulo) => {\r\n    const isMounted = useRef(true)\r\n    const [info, setInfo] = useState({\r\n        data: '',\r\n        loading: true\r\n    })\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false\r\n            console.log(isMounted.current)\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        obtainInfo(titulo)\r\n            .then(({name, description_raw, background_image, developers, publisher, platforms2, genres}) => {\r\n                setTimeout(() => {\r\n                    if (isMounted.current) {\r\n                        setInfo({\r\n                            name: name,\r\n                            description: description_raw,\r\n                            background: background_image,\r\n                            developers: developers,\r\n                            publisher: publisher,\r\n                            platfforms: platforms2,\r\n                            genres: genres,\r\n                            loading: false\r\n                        }, [titulo])\r\n                    }\r\n                }, 1000)\r\n\r\n            })\r\n    }, [titulo])\r\n\r\n    return info\r\n}\r\n\r\n\r\nexport default useObtainInfo\r\n","import React, { useState } from 'react'\r\nimport useObtainInfo from '../hooks/useObtainInfo';\r\n\r\n\r\nconst Columna = ({ titulo }) => {\r\n    const { name, description, background, loading, developers, publisher, platfforms, genres } = useObtainInfo(titulo)\r\n\r\n    return (\r\n        <>\r\n\r\n            { loading ? <div className=\"alert alert-primary mt-3 animate__animated animate__flash animate__infinite infinite\" role=\"alert\">Loading...</div> :\r\n                <div className=\"row bord mt-5\">\r\n\r\n                    <div className=\"col-xl-5 transparente  animate__animated animate__bounce\">\r\n\r\n                        <div className=\"card-body \">\r\n                            <h1 className=\"card-title\">{name}</h1>\r\n                            <img className=\"w-100\" src={background} />\r\n\r\n                            <div>\r\n                                <h4 className=\"mt-3\">Ficha Tecnica</h4>\r\n                                < hr/>\r\n                                <ul >\r\n                                    <li> Publisher: {publisher} </li>\r\n                                    <li> Developer: {developers}</li>\r\n                                    <li>Genres: {genres.map(e => `${e}, `)} </li>\r\n                                    <li>Platforms: {platfforms.map(e => `${e}, `)}</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-xl-7  transparente animate__animated animate__bounce\">\r\n                        <div className=\"col\">\r\n                            <h1 className=\"mt-3\">Description</h1>\r\n                            < hr/>\r\n                            <p className=\"divP\">{description}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n// Column.propTypes = {\r\n\r\n// }\r\n\r\nexport default Columna\r\n","import React, {useState} from 'react'\r\n\r\n\r\nimport Titulo from './Titulo'\r\nimport Input from './Input'\r\nimport Columna from './Columna'\r\n\r\n\r\nimport '../app.css'\r\n\r\nconst App = props => {\r\n    const [lista, setLista] = useState(['Kingdom hearts recoded', 'God eater 3'])\r\n\r\n    return (\r\n        <div className=\"container-xxl text-center mt-5\">\r\n            <Titulo/>\r\n            <Input setLista={setLista}/>\r\n            <div className=\"row-xxl \">\r\n              {lista.map((obj) => <Columna key={obj} titulo={obj}/>  )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './componentes/App';\n\nconst root = document.getElementById('root');\nReactDOM.render(<App/>, root);"],"sourceRoot":""}